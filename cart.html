<!DOCTYPE html>
<html lang="en" class="light">
<head>
  <meta charset="UTF-8"><title>Cart – ZentroMall</title>
  <link rel="icon" href="logo.png"/>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white min-h-screen">
  <header class="bg-indigo-800 dark:bg-indigo-950 shadow-xl sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <a href="index.html"><img src="logo.png" class="h-14"></a>
      <a href="checkout.html" class="bg-yellow-500 text-black px-8 py-4 rounded-full text-xl font-bold">Checkout →</a>
    </div>
  </header>

  <div class="max-w-4xl mx-auto px-4 py-16">
    <h1 class="text-5xl font-bold text-center mb-12">Your Cart</h1>
    <div id="cart-items"></div>
    <div class="text-right text-4xl font-bold mt-10">Total: ₹<span id="total">0</span></div>
  </div>

  <script src="main.js"></script>
  <script>
    function renderCart() {
      const itemsDiv = document.getElementById("cart-items");
      let total = 0;
      itemsDiv.innerHTML = "";
      cart.forEach(item => {
        const p = products.find(x => x.id === item.id);
        total += p.price * item.qty;
        itemsDiv.innerHTML += `
          <div class="bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-xl mb-6 flex items-center justify-between">
            <img src="${p.image}" class="w-24 h-24 object-cover rounded">
            <div class="flex-1 mx-6">
              <h3 class="text-2xl font-bold">${p.name}</h3>
              <p>₹${p.price.toLocaleString()} × ${item.qty}</p>
            </div>
            <div class="flex items-center gap-4">
              <button onclick="changeQty(${p.id}, -1)" class="bg-gray-600 text-white w-10 h-10 rounded-full">-</button>
              <span class="text-2xl">${item.qty}</span>
              <button onclick="changeQty(${p.id}, 1)" class="bg-indigo-600 text-white w-10 h-10 rounded-full">+</button>
              <button onclick="removeFromCart(${p.id})" class="bg-red-600 text-white px-6 py-3 rounded ml-4">Remove</button>
            </div>
          </div>`;
      });
      document.getElementById("total").textContent = total.toLocaleString();
      if (cart.length === 0) itemsDiv.innerHTML = "<p class='text-center text-3xl'>Cart is empty</p>";
    }
    function changeQty(id, delta) {
      const item = cart.find(x => x.id === id);
      item.qty += delta;
      if (item.qty <= 0) removeFromCart(id);
      else { saveData(); renderCart(); updateCartCount(); }
    }
    function removeFromCart(id) {
      cart = cart.filter(x => x.id !== id);
      saveData(); renderCart(); updateCartCount();
    }
    renderCart(); updateCartCount();
  </script>
</body>
</html>
