<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø¢Ø±ÚˆØ± ÛØ³Ù¹Ø±ÛŒ â€“ ZentroMall</title>
  <link rel="icon" href="logo.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .status-complete { color: #10b981; }
    .status-pending { color: #f59e0b; }
  </style>
</head>
<body class="bg-gradient-to-br from-purple-900 via-indigo-900 to-black text-white min-h-screen p-6">

  <div class="max-w-4xl mx-auto">
    <div class="text-center mb-12">
      <h1 class="text-6xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-yellow-400 to-pink-500">
        Ø¢Ù¾ Ú©Û’ Ø¢Ø±ÚˆØ±Ø²
      </h1>
      <p class="text-2xl mt-4 opacity-90">Ø§Ù¾Ù†Ø§ ÙÙˆÙ† Ù†Ù…Ø¨Ø± Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚº</p>
    </div>

    <!-- ÙÙˆÙ† Ù†Ù…Ø¨Ø± Ø§Ù† Ù¾Ù¹ -->
    <div class="bg-gray-800 rounded-3xl p-8 shadow-2xl mb-12">
      <div class="flex flex-col md:flex-row gap-4">
        <input type="tel" id="phoneInput" placeholder="0300 1234567" 
               class="flex-1 p-6 rounded-xl bg-gray-700 text-xl text-left dir-ltr text-center font-bold">
        <button onclick="checkOrders()" 
                class="bg-gradient-to-r from-green-600 to-emerald-600 px-10 py-6 rounded-xl text-2xl font-bold hover:scale-105 transition shadow-lg">
          Ø¢Ø±ÚˆØ± Ú†ÛŒÚ© Ú©Ø±ÛŒÚº
        </button>
      </div>
      <p class="text-center mt-4 text-gray-400">Ø¬Ø³ Ù†Ù…Ø¨Ø± Ø³Û’ Ø¢Ø±ÚˆØ± Ú©ÛŒØ§ ØªÚ¾Ø§ØŒ ÙˆÛÛŒ ÚˆØ§Ù„ÛŒÚº</p>
    </div>

    <!-- Ø¢Ø±ÚˆØ±Ø² Ù„Ø³Ù¹ -->
    <div id="orderList" class="space-y-8"></div>
  </div>

  <script src="main.js"></script>
  <script>
    function checkOrders() {
      const phone = document.getElementById("phoneInput").value.trim().replace(/[-\s]/g, '');
      if (!phone || phone.length < 10) {
        alert("ØµØ­ÛŒØ­ ÙÙˆÙ† Ù†Ù…Ø¨Ø± Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚº");
        return;
      }

      // ØªÙ…Ø§Ù… Ø¢Ø±ÚˆØ±Ø² Ù…ÛŒÚº Ø³Û’ Ø§Ø³ ÙÙˆÙ† Ù†Ù…Ø¨Ø± ÙˆØ§Ù„Û’ ØªÙ„Ø§Ø´ Ú©Ø±Ùˆ
      const userOrders = orders.filter(o => 
        o.customer.phone && o.customer.phone.replace(/[-\s]/g, '').includes(phone)
      );

      const container = document.getElementById("orderList");

      if (userOrders.length === 0) {
        container.innerHTML = `
          <div class="bg-gray-800 rounded-3xl p-16 text-center shadow-2xl">
            <p class="text-4xl text-gray-500 mb-6">Ú©ÙˆØ¦ÛŒ Ø¢Ø±ÚˆØ± Ù†ÛÛŒÚº Ù…Ù„Ø§ ğŸ˜”</p>
            <p class="text-xl text-gray-400">Ø´Ø§ÛŒØ¯ Ù†Ù…Ø¨Ø± ØºÙ„Ø· ÛÛ’ ÛŒØ§ Ø§Ø¨Ú¾ÛŒ Ø¢Ø±ÚˆØ± Ù†ÛÛŒÚº Ú©ÛŒØ§</p>
          </div>`;
        return;
      }

      container.innerHTML = userOrders.reverse().map((o, i) => {
        const itemsList = o.items.map(it => `â€¢ ${it.name || "Unknown"} Ã— ${it.qty}`).join("<br>");
        return `
          <div class="bg-gray-800 rounded-3xl p-8 shadow-2xl hover:shadow-yellow-500/50 transition">
            <div class="flex justify-between items-start mb-6">
              <div>
                <p class="text-3xl font-bold text-yellow-400">Ø¢Ø±ÚˆØ± #${orders.indexOf(o) + 1}</p>
                <p class="text-lg text-gray-400 mt-2">ØªØ§Ø±ÛŒØ®: ${o.date}</p>
              </div>
              <div class="text-right">
                <p class="text-4xl font-extrabold text-green-400">${formatPrice(o.total)}</p>
                <p class="text-sm text-gray-500">Ù¹ÙˆÙ¹Ù„ Ø±Ù‚Ù…</p>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-lg">
              <div>
                <p class="font-bold mb-2">Ø¢Ø¦Ù¹Ù…Ø²:</p>
                <div class="text-gray-300 leading-relaxed">${itemsList}</div>
              </div>
              <div class="space-y-4">
                <p>Ø³Ù¹ÛŒÙ¹Ø³: <span class="${o.status === 'complete' ? 'text-green-400' : 'text-yellow-400'} font-bold text-2xl">
                  ${o.status === 'complete' ? 'ÚˆÛŒÙ„ÛŒÙˆØ± ÛÙˆ Ú¯ÛŒØ§ âœ“' : 'Ù¾ÛŒÙ†ÚˆÙ†Ú¯ ÛÙˆ Ø±ÛØ§ ÛÛ’ â³'}
                </span></p>
                <p>Ù¹Ø±ÛŒÚ©Ù†Ú¯ ID: 
                  <span class="font-bold text-cyan-400 text-xl">
                    ${o.tracking_id || 'Ø§Ø¨Ú¾ÛŒ Ù†ÛÛŒÚº Ù…Ù„Ø§'}
                  </span>
                </p>
                ${o.tracking_id ? `<p class="text-sm text-gray-400">TCS ÛŒØ§ Leopard Ø§ÛŒÙ¾ Ù…ÛŒÚº Ú†ÛŒÚ© Ú©Ø±ÛŒÚº</p>` : ''}
              </div>
            </div>

            <div class="mt-6 pt-6 border-t border-gray-700 text-center">
              <p class="text-gray-400">Ú©ÙˆØ¦ÛŒ Ø³ÙˆØ§Ù„ ÛÙˆ ØªÙˆ WhatsApp Ú©Ø±ÛŒÚº: <strong>0300 1234567</strong></p>
            </div>
          </div>`;
      }).join("");
    }

    // Enter Ø¯Ø¨Ø§Ù†Û’ Ø³Û’ Ø¨Ú¾ÛŒ Ú†ÛŒÚ© ÛÙˆ Ø¬Ø§Ø¦Û’
    document.getElementById("phoneInput").addEventListener("keyup", function(e) {
      if (e.key === "Enter") checkOrders();
    });
  </script>
</body>
</html>
